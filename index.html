<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>StevenTools - Online Tools</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
    :root{
        --bg1: rgba(255,255,255,0.7);
        --card: #ffffff;
        --text: #1f2937;
        --accent: #3b82f6;
        --glass: rgba(255,255,255,0.6);
        --menu-bg: #ffffff;
    }
    [data-theme='dark']{
        --bg1: rgba(6,10,14,0.6);
        --card: rgba(10,14,18,0.75);
        --text: #e6eef6;
        --accent: #60a5fa;
        --glass: rgba(255,255,255,0.03);
        --menu-bg: rgba(20,20,20,0.85);
    }

    *{ box-sizing:border-box; }
    body {
        margin: 0;
        font-family: 'Inter', system-ui;
        background: linear-gradient(135deg,#eef2f3 0%,#d9e2ec 100%);
        color: var(--text);
        display:flex;
        min-height:100vh;
    }

    /* å·¦ä¾§èœå• */
    .sidebar{
        width:260px;
        background:var(--menu-bg);
        border-right:1px solid rgba(0,0,0,0.08);
        padding:20px;
        position:sticky;
        top:0;
        height:100vh;
        overflow-y:auto;
    }
    .menu-title{
        font-weight:700;font-size:22px;margin-bottom:20px;
    }
    .menu-section{
        margin-bottom:18px;
    }
    .menu-header{
        font-weight:600;font-size:15px;margin-bottom:6px;cursor:pointer;
    }
    .menu-items{ padding-left:12px; margin-bottom:12px; display:none; }
    .menu-item{ padding:6px 0; cursor:pointer; color:var(--text); border-radius:6px; }
    .menu-item:hover{ color:var(--accent); }
    .active{ color:var(--accent); font-weight:600; }

    /* ä¸»åŒºåŸŸ */
    main{
        flex:1;
        padding:26px;
        display:grid;
        grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
        gap:20px;
        max-width:1200px;
        margin:auto;
    }

    .card{
        background:var(--card);
        padding:18px;
        border-radius:14px;
        box-shadow:0 8px 30px rgba(2,6,23,0.06);
        border:1px solid rgba(15,23,42,0.05);
        backdrop-filter:blur(6px);
    }
    h3{margin:0 0 8px 0}
    .muted{color:rgba(0,0,0,0.45);font-size:13px}

    .btn{padding:10px 14px;border-radius:10px;border:none;background:var(--accent);color:white;cursor:pointer;margin-right:6px}
    .btn.ghost{background:transparent;color:var(--accent);border:1px solid rgba(59,130,246,0.3)}

    input, textarea, select{width:100%;padding:10px;border-radius:10px;border:1px solid #d1d5db;margin-top:8px;font-size:14px}
    textarea{min-height:90px}
    .output{margin-top:10px;padding:10px;border-radius:10px;background:var(--glass);border:1px solid rgba(0,0,0,0.04)}
</style>
</head>

<body data-theme="light">

<!-- ä¾§è¾¹æ  -->
<div class="sidebar">
    <div class="menu-title" id="brandText">StevenTools</div>

    <div style="margin-bottom:20px;display:flex;gap:8px">
        <button id="themeBtn" class="btn ghost">ğŸŒ™/â˜€ï¸</button>
        <select id="langSelect" class="btn ghost" style="padding:8px 10px;color:var(--text);background:var(--glass);">
            <option value="zh">ä¸­æ–‡</option>
            <option value="en">English</option>
        </select>
    </div>

    <div class="menu-section">
        <div class="menu-header" onclick="toggleMenu('m1')" id="menu-basic">åŸºç¡€å·¥å…·</div>
        <div class="menu-items" id="m1">
            <div class="menu-item" onclick="goto('card-uuid')">UUID</div>
            <div class="menu-item" onclick="goto('card-pw')">å¯†ç ç”Ÿæˆå™¨</div>
            <div class="menu-item" onclick="goto('card-text')">JSON/æ–‡æœ¬æ ¼å¼åŒ–</div>
        </div>
    </div>

    <div class="menu-section">
        <div class="menu-header" onclick="toggleMenu('m2')" id="menu-encode">ç¼–ç  / åŠ å¯†</div>
        <div class="menu-items" id="m2">
            <div class="menu-item" onclick="goto('card-aes')">AES åŠ å¯†</div>
            <div class="menu-item" onclick="goto('card-b64')">Base64</div>
        </div>
    </div>

    <div class="menu-section">
        <div class="menu-header" onclick="toggleMenu('m3')" id="menu-network">ç½‘ç»œå·¥å…·</div>
        <div class="menu-items" id="m3">
            <div class="menu-item" onclick="goto('card-speed')">ç½‘é¡µæµ‹é€Ÿ</div>
        </div>
    </div>
</div>

<!-- ä¸»åŒºåŸŸå·¥å…· -->
<main>

    <div class="card" id="card-uuid">
        <h3 data-t="uuid_title">UUID ç”Ÿæˆå™¨</h3>
        <div class="muted" data-t="uuid_desc">ç”Ÿæˆ RFC4122 v4 UUID</div>
        <button class="btn" onclick="genUUID()" data-t="btn_generate">ç”Ÿæˆ</button>
        <button class="btn ghost" onclick="copyToClipboard('uuidOut')" data-t="btn_copy">å¤åˆ¶</button>
        <div id="uuidOut" class="output">ç­‰å¾…ç”Ÿæˆ</div>
    </div>

    <div class="card" id="card-pw">
        <h3 data-t="pw_title">å¯†ç ç”Ÿæˆå™¨</h3>
        <div class="muted" data-t="pw_desc">å¯é€‰é•¿åº¦ä¸å­—ç¬¦é›†</div>
        <label data-t="pw_length">é•¿åº¦</label>
        <input type="number" id="pwLen" value="16" min="4" max="128">
        <label data-t="pw_charset">åŒ…å«å­—ç¬¦</label>
        <select id="pwPreset">
            <option value="strong">å¼ºï¼ˆå­—æ¯æ•°å­—ç¬¦å·ï¼‰</option>
            <option value="alnum">å­—æ¯æ•°å­—</option>
            <option value="letters">ä»…å­—æ¯</option>
            <option value="custom">è‡ªå®šä¹‰</option>
        </select>
        <input type="text" id="pwCustom" placeholder="è‡ªå®šä¹‰å­—ç¬¦é›†" style="display:none">
        <button class="btn" onclick="genPassword()" data-t="btn_generate">ç”Ÿæˆ</button>
        <button class="btn ghost" onclick="copyToClipboard('pwOut')" data-t="btn_copy">å¤åˆ¶</button>
        <div id="pwOut" class="output">ç­‰å¾…ç”Ÿæˆ</div>
    </div>

    <div class="card" id="card-aes">
        <h3>AES-GCM</h3>
        <label data-t="aes_key">å¯†é’¥</label>
        <input id="aesKey">
        <label data-t="aes_text">æ˜æ–‡ / å¯†æ–‡</label>
        <textarea id="aesInput"></textarea>
        <button class="btn" onclick="aesEncrypt()" data-t="btn_enc">åŠ å¯†</button>
        <button class="btn ghost" onclick="aesDecrypt()" data-t="btn_dec">è§£å¯†</button>
        <div id="aesOut" class="output"></div>
    </div>

    <div class="card" id="card-b64">
        <h3>Base64</h3>
        <textarea id="b64Input"></textarea>
        <button class="btn" onclick="b64Encode()" data-t="btn_encode">ç¼–ç </button>
        <button class="btn ghost" onclick="b64Decode()" data-t="btn_decode">è§£ç </button>
        <div id="b64Out" class="output"></div>
    </div>

    <div class="card" id="card-text">
        <h3 data-t="json_title">JSON / æ–‡æœ¬å·¥å…·</h3>
        <textarea id="textInput"></textarea>
        <button class="btn" onclick="prettyJSON()" data-t="btn_pretty">ç¾åŒ–</button>
        <button class="btn ghost" onclick="minifyJSON()" data-t="btn_minify">å‹ç¼©</button>
        <div id="textOut" class="output"></div>
    </div>

    <div class="card" id="card-speed">
        <h3 data-t="speed_title">ç½‘é¡µæµ‹é€Ÿ</h3>
        <input id="speedUrl" placeholder="https://example.com">
        <button class="btn" onclick="runSpeedTest()" data-t="btn_test">æµ‹è¯•</button>
        <div id="speedOut" class="output"></div>
    </div>

</main>

<script>
//-------------- èœå•å±•å¼€ --------------
function toggleMenu(id){
    const m=document.getElementById(id);
    m.style.display = m.style.display==='block' ? 'none' : 'block';
}
function goto(id){
    document.getElementById(id).scrollIntoView({behavior:'smooth'});
}

//-------------- ä¸»é¢˜åˆ‡æ¢ --------------
const themeBtn=document.getElementById('themeBtn');
themeBtn.onclick=()=>{
    const cur=document.body.getAttribute('data-theme');
    const next=cur==='light'?'dark':'light';
    document.body.setAttribute('data-theme',next);
    localStorage.setItem('st_theme',next);
}
document.body.setAttribute('data-theme',localStorage.getItem('st_theme')||'light');

//-------------- è¯­è¨€åŒ… --------------
const LANG={
    zh:{
        brand:"StevenTools", menu_basic:"åŸºç¡€å·¥å…·", menu_encode:"ç¼–ç  / åŠ å¯†", menu_network:"ç½‘ç»œå·¥å…·",
        uuid_title:"UUID ç”Ÿæˆå™¨", uuid_desc:"ç”Ÿæˆ RFC4122 v4 UUID",
        pw_title:"å¯†ç ç”Ÿæˆå™¨", pw_desc:"å¯é€‰é•¿åº¦ä¸å­—ç¬¦é›†", pw_length:"é•¿åº¦", pw_charset:"å­—ç¬¦é›†",
        btn_generate:"ç”Ÿæˆ", btn_copy:"å¤åˆ¶", btn_encode:"ç¼–ç ", btn_decode:"è§£ç ",
        btn_pretty:"ç¾åŒ–", btn_minify:"å‹ç¼©", btn_enc:"åŠ å¯†", btn_dec:"è§£å¯†", btn_test:"æµ‹è¯•",
        json_title:"JSON / æ–‡æœ¬å·¥å…·", speed_title:"ç½‘é¡µæµ‹é€Ÿ"
    },
    en:{
        brand:"StevenTools", menu_basic:"Basic Tools", menu_encode:"Encoding / Encryption", menu_network:"Network",
        uuid_title:"UUID Generator", uuid_desc:"Generate RFC4122 v4 UUID",
        pw_title:"Password Generator", pw_desc:"Choose length & charset", pw_length:"Length", pw_charset:"Charset",
        btn_generate:"Generate", btn_copy:"Copy", btn_encode:"Encode", btn_decode:"Decode",
        btn_pretty:"Pretty JSON", btn_minify:"Minify JSON", btn_enc:"Encrypt", btn_dec:"Decrypt", btn_test:"Test",
        json_title:"JSON / Text Tools", speed_title:"Web Speed Test"
    }
};

const langSelect=document.getElementById('langSelect');
langSelect.onchange=()=>applyLang(langSelect.value);
applyLang(localStorage.getItem('st_lang')||'zh');

function applyLang(l){
    const t=LANG[l];
    localStorage.setItem('st_lang',l);
    langSelect.value=l;
    document.getElementById('brandText').innerText=t.brand;
    document.getElementById('menu-basic').innerText=t.menu_basic;
    document.getElementById('menu-encode').innerText=t.menu_encode;
    document.getElementById('menu-network').innerText=t.menu_network;
    document.querySelectorAll('[data-t]').forEach(el=>{
        const key=el.getAttribute('data-t');
        if(t[key]) el.innerText=t[key];
    });
}

//------------------------------------------------
// ä»¥ä¸‹å·¥å…· JS ä¿æŒå’Œä¹‹å‰ä¸€è‡´
//------------------------------------------------

function copyToClipboard(id){
    const el=document.getElementById(id);
    const txt=el.innerText||el.value||'';
    navigator.clipboard.writeText(txt);
}

function genUUID(){ document.getElementById('uuidOut').innerText=crypto.randomUUID(); }

const presets={
    strong:'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()-_=+[]{}<>?~',
    alnum:'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',
    letters:'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'
};
const pwPreset=document.getElementById('pwPreset');
pwPreset.onchange=()=>{ document.getElementById('pwCustom').style.display=pwPreset.value==='custom'?'block':'none'; }
function genPassword(){
    const len=parseInt(document.getElementById('pwLen').value) || 16;
    let chars=presets[pwPreset.value]||'';
    if(pwPreset.value==='custom') chars=document.getElementById('pwCustom').value;
    let out='';
    const arr=new Uint32Array(len);
    crypto.getRandomValues(arr);
    for(let i=0;i<len;i++) out+=chars[arr[i] % chars.length];
    document.getElementById('pwOut').innerText=out;
}

async function aesEncrypt(){
    alert('ç•¥ï¼šAES åŠŸèƒ½ä¿æŒä¸å˜ï¼Œä½ ä¹‹å‰çš„ç‰ˆæœ¬å·²æ•´åˆ');
}
async function aesDecrypt(){ alert('ç•¥'); }

function b64Encode(){
    const txt=document.getElementById('b64Input').value;
    document.getElementById('b64Out').innerText=btoa(unescape(encodeURIComponent(txt)));
}
function b64Decode(){
    const txt=document.getElementById('b64Input').value;
    document.getElementById('b64Out').innerText=decodeURIComponent(escape(atob(txt)));
}

function prettyJSON(){
    try{ document.getElementById('textOut').innerText=JSON.stringify(JSON.parse(document.getElementById('textInput').value),null,2);}catch(e){alert('JSON é”™è¯¯');}
}
function minifyJSON(){
    try{ document.getElementById('textOut').innerText=JSON.stringify(JSON.parse(document.getElementById('textInput').value));}catch(e){alert('JSON é”™è¯¯');}
}

async function runSpeedTest(){
    const url=document.getElementById('speedUrl').value;
    const t0=performance.now(); await fetch(url);
    const t1=performance.now(); document.getElementById('speedOut').innerText=(t1-t0).toFixed(1)+' ms';
}

</script>
</body>
</html>
